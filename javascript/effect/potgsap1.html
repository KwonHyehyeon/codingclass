<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #contents>section {
            min-height: 90vh;
        }

        #section1 {
            background-image: linear-gradient(to top, #fad0c4 0%, #ffd1ff 100%);
        }

        #section2 {
            background-image: linear-gradient(to top, #fff1eb 0%, #ace0f9 100%);
        }

        #section3 {
            background-image: linear-gradient(to right, #eea2a2 0%, #bbc1bf 19%, #57c6e1 42%, #b49fda 79%, #7ac5d8 100%);
        }

        #section4 {
            background-image: linear-gradient(to top, #9795f0 0%, #fbc8d4 100%);
        }

        #section5 {
            background-image: linear-gradient(to top, #dbdcd7 0%, #dddcd7 24%, #e2c9cc 30%, #e7627d 46%, #b8235a 59%, #801357 71%, #3d1635 84%, #1c1a27 100%);
        }

        #section6 {
            background-image: linear-gradient(to top, #d9afd9 0%, #97d9e1 100%);
        }

        .square {
            width: 200px;
            height: 200px;
            background-image: linear-gradient(60deg, #abecd6 0%, #fbed96 100%);
        }

        .square2 {
            width: 200px;
            height: 200px;
            background-image: linear-gradient(to right, #d7d2cc 0%, #304352 100%);
        }

        .square.red {
            background-image: linear-gradient(-20deg, #fc6076 0%, #ff9a44 100%);
        }

        .panel {
            height: 100vh;
            background-color: beige;
        }

        .box {
            width: 100px;
            height: 100px;
            background-color: pink;
        }

        .box-red {
            background-color: red;
        }

        nav {
            position: sticky;
            top: 0;
            transition: all 600ms ease-in-out;
            background-color: yellow;
            color: violet;
            text-align: center;
        }

        li {
            padding: 20px;
            display: inline-block;
        }

        .not-active {
            background: #fff;
            color: blue;
        }
    </style>
</head>

<body>
    <!-- 1차 -->
    <!-- <main id="contents">
        <section id="section1"></section>
        <section id="section2">
            <div class="square"></div>
            <div class="square2"></div>
        </section>
        <section id="section3"></section>
        <section id="section4"></section>
        <section id="section5"></section>
        <section id="section6"></section>
    </main> -->

    <!-- 2차 -->

    <nav>
        <ul>
            <li>about</li>
            <li>work</li>
            <li>contact</li>
        </ul>
    </nav>
    <div class="panel">
        안녕하세요
    </div>
    <!-- <div class="box"></div>
    <div class="panel"></div> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <!-- 이게 있어야 작동됨 -->

    <!-- 움직이게 하기 -->
    <script>
        // gsap.registerPlugin(ScrollTrigger);
        // gsap.to(".square", {
        //     // x: 1000,
        //     duration: 3,
        //     scrollTrigger: {
        //         trigger: ".square",
        //         start: "top 70%",
        //         end: "top 30%",
        //         markers: {
        //             startColor: "blue",
        //             endColor: "purple",
        //             fontSize: "30px"
        //         },
        //         toggleClass: "red",
        //         toggleActions: "restart none none none",



        //     }
        // });
        // gsap.to(".square", { x: 1000, duration: 2, rotation: 100, skew: 1, borderRadius: 0 })
        // gsap.to(".square", { y: 500, duration: 2, rotation: 10, skew: 3, borderRadius: 100, delay: 2 })
        // gsap.to(".square", { x: 0, duration: 2, rotation: 300, skew: 1, width: 400, delay: 4 })
        // gsap.to(".square", { y: 0, duration: 2, rotation: 0, width: 200, delay: 6 })

        // 자기가 알아서 순서대로 움직이게 해주는 것
        // , "+=1" 딜레이 작업
        // const tl = gsap.timeline({ repeat: 2, yoyo: true });
        // tl.to(".square", { x: 1000, duration: 2, rotation: 180, ease: "elastic", skew: 0, borderRadius: 0 })
        //     .to(".square", { y: 500, duration: 2, rotation: 0, ease: "elastic", width: "100px", skew: 1, borderRadius: "100px", }, "+=3")  //"+=3" : 타임라인에서는 이런 식으로 애니메이션 간의 딜레이를 줄 수 있다.
        //     .to(".square", { x: 0, duration: 2, rotation: 360, ease: "elastic", width: "300px", skew: 0, })
        //     .to(".square", { y: 0, duration: 2, rotation: 0, ease: "elastic", width: "100px" })

        // const tl = gsap.timeline({
        //     scrollTrigger: {
        //         trigger: ".square",
        //         markers: true,
        //         start: "top 80%",
        //         end: "top 30%",
        //         // 밑에 애니메이션 컨트롤 가능함
        //         scrub: 1
        //     }
        // })
        // // 위에꺼와 연동
        // tl.to(".square", { x: 1000, duration: 2, rotation: 180, skew: 0, borderRadius: 0 })
        //     .to(".square", { y: 500, duration: 2, rotation: 0, width: "100px", skew: 1, borderRadius: "100px", }, "+=3")  //"+=3" : 타임라인에서는 이런 식으로 애니메이션 간의 딜레이를 줄 수 있다.
        //     .to(".square", { x: 0, duration: 2, rotation: 360, width: "300px", skew: 0, })
        //     .to(".square", { y: 0, duration: 2, rotation: 0, width: "100px" })
    </script>
    <script>
        // 백업


        // // 스크롤 트리거 해야함->스크롤 할 때 움직이도록
        // gsap.registerPlugin(ScrollTrigger);
        // gsap.to(".square", {
        //     x: 1000,
        //     // 작동시간
        //     duration: 3,
        //     // 스크롤 기준 설정
        //     scrollTrigger: {
        //         // 위치를 자기로 설정
        //         trigger: ".square",
        //         // 시작 설정 //markers로 보이는 scroll start가 중간쯤 오면 스크롤 됨
        //         // 앞에 부분은 start, end 조절 뒷 부분은 scroll-top, bottom 조절
        //         start: "top 70%",
        //         end: "top 30%",
        //         // 가로모드할 때 필요
        //         // end: () => `+=${document.querySelector(".square").offsetHeight}`,
        //         // 기본값
        //         // scrub: "true",
        //         // 단위 : 움직임 스무스 정도
        //         //scrub: 4,
        //         // 어떤 기준으로 움직이는지 mark가 생김
        //         // 기본
        //         // markers: true,
        //         // 속성넣어주면
        //         markers: {
        //             startColor: "blue",
        //             endColor: "purple",
        //             fontSize: "30px"
        //         },
        //         // 속성
        //         toggleClass: "red",
        //         // 처음으로 돌아가면 restart됨
        //         toggleActions: "restart pause resume reset"
        //         //              onEnter onLeave onEnterBack onLeaveBack
        //         // play, pause, resume, reset, restart, complete, reverse, none 사용 가능


        //        // 고정
        //        // 기본
        //        pin: true,
        //        // 옵션 -> x값없애보고 해보기 -> 포폴 sticky효과 나옴
        //        // pin: (".square")
        //        //pinSpacing -> true 순서대로 작동되고 false하면 무시됨
        //        pinSpacing: true,
        //     }
        // })
    </script>
    <script>
        // 2차
        gsap.registerPlugin(ScrollTrigger);

        // 트리거 만들어주기
        ScrollTrigger.create({
            trigger: ".panel",
            start: "top 6%",
            // end: "top 50%",
            markers: true,
            // 박스 바뀜
            toggleClass: { targets: "nav", className: "not-active" },
            // 콜백 함수
            onEnter: () => console.log("onEnter"),
            onLeave: () => console.log("onLeave"),
            onEnterBack: () => console.log("onEnterBack"),
            onLeaveBack: () => console.log("onLeaveBack"),
        })
    </script>
</body>

</html>